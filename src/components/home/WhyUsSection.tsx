import React, { useEffect } from "react";
import { motion, useAnimation } from "framer-motion";
import { useInView } from "react-intersection-observer";

interface ServiceCard {
  icon: React.ReactNode;
  title: string;
  description: string;
}

const serviceCards: ServiceCard[] = [
  {
    icon: (
      <svg
        width="37"
        height="37"
        viewBox="0 0 37 37"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M23.125 3.0835C17.9185 3.08569 13.4564 6.80604 12.5179 11.9273C16.9995 9.47489 22.6205 11.1198 25.0729 15.6013C26.5869 18.368 26.5869 21.7155 25.0729 24.4822C30.9332 23.4087 34.8137 17.7877 33.7402 11.9274C32.8014 6.80294 28.3347 3.08152 23.125 3.0835Z"
          fill="#C3E8F1"
        />
        <path
          d="M10.7917 33.9167C15.0489 33.9167 18.5 30.4655 18.5 26.2083C18.5 21.9511 15.0489 18.5 10.7917 18.5C6.53451 18.5 3.08337 21.9511 3.08337 26.2083C3.08337 30.4655 6.53451 33.9167 10.7917 33.9167Z"
          fill="#027794"
        />
        <path
          d="M16.9584 10.7915C12.2048 10.792 8.22545 14.3953 7.75464 19.1255C11.664 17.4458 16.1948 19.2534 17.8744 23.1627C18.7087 25.1044 18.7087 27.3036 17.8744 29.2453C22.9577 28.7398 26.6689 24.2092 26.1634 19.1259C25.693 14.3949 21.7127 10.7911 16.9584 10.7915Z"
          fill="#52A0B4"
        />
      </svg>
    ),
    title: "IT/Digital Solutions Consultation",
    description:
      "Environmental legal issues might occur since the planned business activities are designed",
  },
  {
    icon: (
      <svg
        width="37"
        height="37"
        viewBox="0 0 37 37"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M29.2917 9.25H7.70837C5.15406 9.25 3.08337 11.3207 3.08337 13.875V18.0697L13.6244 21.5833H23.3757L33.9167 18.0697V13.875C33.9167 11.3207 31.846 9.25 29.2917 9.25Z"
          fill="#C3E8F1"
        />
        <path
          d="M15.4167 9.25V7.70833H21.5834V9.25H24.6667V7.70833C24.6648 6.00626 23.2855 4.62694 21.5834 4.625H15.4167C13.7146 4.62694 12.3353 6.00626 12.3334 7.70833V9.25H15.4167ZM13.6244 21.5833L3.08337 18.0696V27.75C3.08616 30.3032 5.1552 32.3722 7.70837 32.375H29.2917C31.8449 32.3722 33.9139 30.3032 33.9167 27.75V18.0696L23.3757 21.5833H13.6244Z"
          fill="#027794"
        />
      </svg>
    ),
    title: "IT Procurement",
    description:
      "We provide a complete range of services for the continuity of your business activities.",
  },
  {
    icon: (
      <svg
        width="37"
        height="37"
        viewBox="0 0 37 37"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M27.3438 22.5419L23.6037 25.9808C21.6806 27.6573 19.4211 28.903 16.9769 29.6344L17.9693 34.2643C18.02 34.5007 18.1256 34.7219 18.2775 34.9099C18.4294 35.098 18.6235 35.2477 18.8439 35.347C19.0644 35.4463 19.3051 35.4923 19.5466 35.4814C19.7881 35.4705 20.0237 35.403 20.2344 35.2843L26.255 31.8886C27.1024 31.3737 27.7643 30.603 28.1453 29.6875C28.5263 28.7721 28.6066 27.7594 28.3748 26.7953L27.3438 22.5419ZM11.2011 13.5293L14.4212 9.70617L10.4054 8.73727C9.42917 8.39684 8.36269 8.4212 7.40298 8.80584C6.44327 9.19049 5.65517 9.90944 5.18425 10.8299L1.79229 16.8422C1.67344 17.0528 1.6058 17.2884 1.59485 17.53C1.58389 17.7716 1.62991 18.0123 1.72921 18.2328C1.8285 18.4533 1.97827 18.6474 2.16642 18.7993C2.35457 18.9512 2.57582 19.0567 2.81229 19.1073L7.54945 20.1227C8.33479 17.7121 9.57432 15.474 11.2011 13.5293ZM25.7978 13.5916C26.2552 13.5916 26.7023 13.4559 27.0825 13.2018C27.4628 12.9477 27.7592 12.5866 27.9343 12.164C28.1093 11.7415 28.1551 11.2765 28.0659 10.8279C27.9766 10.3793 27.7564 9.9673 27.433 9.64389C27.1096 9.32048 26.6975 9.10024 26.2489 9.01101C25.8003 8.92178 25.3354 8.96758 24.9128 9.1426C24.4903 9.31763 24.1291 9.61403 23.875 9.99432C23.6209 10.3746 23.4853 10.8217 23.4853 11.2791C23.4855 11.8923 23.7292 12.4804 24.1628 12.914C24.5965 13.3476 25.1845 13.5913 25.7978 13.5916Z"
          fill="#027794"
        />
        <path
          d="M34.8433 3.17879C34.7737 2.91474 34.6353 2.67387 34.4422 2.48079C34.2491 2.2877 34.0083 2.14931 33.7442 2.07975C30.5817 1.25768 27.2513 1.34583 24.1367 2.33405C21.0221 3.32226 18.2501 5.17033 16.14 7.6653L11.2011 13.5294C8.73384 16.4721 7.16864 20.0647 6.69355 23.8754C6.66308 24.1096 6.68681 24.3476 6.7629 24.5712C6.83898 24.7948 6.9654 24.9979 7.1324 25.1649L11.9117 29.9442C12.0548 30.0874 12.2247 30.201 12.4118 30.2785C12.5988 30.356 12.7992 30.3959 13.0017 30.3959C13.0461 30.3959 13.0905 30.3936 13.1357 30.3899C17.0049 30.0702 20.6716 28.5258 23.6036 25.9809L29.2509 20.7883C31.7547 18.6838 33.6095 15.9116 34.5995 12.7942C35.5895 9.67677 35.6741 6.34235 34.8433 3.17879ZM25.7977 13.5915C25.3404 13.5915 24.8933 13.4559 24.513 13.2018C24.1327 12.9477 23.8363 12.5866 23.6613 12.164C23.4862 11.7414 23.4404 11.2765 23.5297 10.8279C23.6189 10.3793 23.8391 9.96727 24.1625 9.64386C24.486 9.32045 24.898 9.10021 25.3466 9.01098C25.7952 8.92175 26.2601 8.96755 26.6827 9.14258C27.1052 9.3176 27.4664 9.614 27.7205 9.99429C27.9746 10.3746 28.1102 10.8217 28.1102 11.279C28.11 11.8923 27.8663 12.4804 27.4327 12.914C26.999 13.3476 26.411 13.5913 25.7977 13.5915Z"
          fill="#C3E8F1"
        />
      </svg>
    ),
    title: "Software Solutions",
    description:
      "IT not followed by the existing regulation which might cause legal uncertainty and business uncertainty.",
  },
  {
    icon: (
      <svg
        width="37"
        height="37"
        viewBox="0 0 37 37"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.24996 25.4377C8.18277 25.4377 7.13954 25.1212 6.2522 24.5283C5.36486 23.9354 4.67326 23.0927 4.26486 22.1067C3.85646 21.1208 3.74961 20.0358 3.95781 18.9892C4.16601 17.9425 4.67991 16.981 5.43453 16.2264C6.18915 15.4718 7.1506 14.9579 8.19729 14.7497C9.24398 14.5415 10.3289 14.6483 11.3149 15.0567C12.3008 15.4651 13.1435 16.1567 13.7364 17.0441C14.3293 17.9314 14.6458 18.9746 14.6458 20.0418C14.6441 21.4724 14.075 22.8438 13.0635 23.8554C12.0519 24.8669 10.6805 25.4359 9.24996 25.4377Z"
          fill="#0388A9"
        />
        <path
          d="M13.3204 23.5442C12.8208 24.1373 12.1977 24.614 11.4946 24.9411C10.7915 25.2682 10.0254 25.4376 9.24996 25.4376C8.47451 25.4376 7.70843 25.2682 7.00533 24.9411C6.30224 24.614 5.67911 24.1373 5.17956 23.5442C4.06954 24.2324 3.15309 25.1919 2.51661 26.3324C1.88012 27.4729 1.54458 28.7566 1.54163 30.0627C1.54163 30.4715 1.70405 30.8637 1.99317 31.1528C2.28229 31.4419 2.67442 31.6043 3.08329 31.6043H15.4166C15.8255 31.6043 16.2176 31.4419 16.5067 31.1528C16.7959 30.8637 16.9583 30.4715 16.9583 30.0627C16.9553 28.7566 16.6198 27.4729 15.9833 26.3324C15.3468 25.1919 14.4304 24.2324 13.3204 23.5442ZM27.75 25.4377C26.6828 25.4377 25.6395 25.1212 24.7522 24.5283C23.8649 23.9354 23.1733 23.0927 22.7649 22.1067C22.3565 21.1208 22.2496 20.0358 22.4578 18.9892C22.666 17.9425 23.1799 16.981 23.9345 16.2264C24.6891 15.4718 25.6506 14.9579 26.6973 14.7497C27.744 14.5415 28.8289 14.6483 29.8149 15.0567C30.8008 15.4651 31.6435 16.1567 32.2364 17.0441C32.8293 17.9314 33.1458 18.9746 33.1458 20.0418C33.1441 21.4724 32.575 22.8438 31.5635 23.8554C30.5519 24.8669 29.1805 25.4359 27.75 25.4377Z"
          fill="#C3E8F1"
        />
        <path
          d="M31.8204 23.5439C31.3208 24.137 30.6977 24.6138 29.9946 24.9409C29.2915 25.2679 28.5254 25.4374 27.75 25.4374C26.9745 25.4374 26.2084 25.2679 25.5053 24.9409C24.8022 24.6138 24.1791 24.137 23.6796 23.5439C22.5695 24.2321 21.6531 25.1917 21.0166 26.3322C20.3801 27.4726 20.0446 28.7564 20.0416 30.0624C20.0416 30.4713 20.2041 30.8634 20.4932 31.1526C20.7823 31.4417 21.1744 31.6041 21.5833 31.6041H33.9166C34.3255 31.6041 34.7176 31.4417 35.0068 31.1526C35.2959 30.8634 35.4583 30.4713 35.4583 30.0624C35.4553 28.7564 35.1198 27.4726 34.4833 26.3322C33.8468 25.1917 32.9304 24.2321 31.8204 23.5439Z"
          fill="#027794"
        />
        <path
          d="M26.5275 8.93085L23.4441 5.84751C23.1542 5.56275 22.7635 5.40402 22.3571 5.40586C21.9507 5.4077 21.5614 5.56996 21.274 5.85734C20.9867 6.14472 20.8244 6.53395 20.8226 6.94036C20.8207 7.34677 20.9794 7.73746 21.2642 8.02743L21.7159 8.47914H15.2842L15.7359 8.02743C16.022 7.73772 16.1818 7.34659 16.1805 6.93945C16.1792 6.5323 16.0169 6.1422 15.729 5.8543C15.4411 5.56641 15.051 5.40411 14.6438 5.40284C14.2367 5.40157 13.8456 5.56142 13.5559 5.84751L10.4725 8.93085C10.3294 9.07396 10.2158 9.24388 10.1383 9.43091C10.0608 9.61794 10.0209 9.8184 10.0209 10.0208C10.0209 10.2233 10.0608 10.4238 10.1383 10.6108C10.2158 10.7978 10.3294 10.9677 10.4725 11.1109L13.5559 14.1942C13.8456 14.4803 14.2367 14.6401 14.6439 14.6388C15.051 14.6375 15.4411 14.4752 15.729 14.1873C16.0169 13.8994 16.1792 13.5093 16.1805 13.1021C16.1817 12.695 16.0219 12.3039 15.7358 12.0142L15.2841 11.5625H21.7157L21.264 12.0142C20.9749 12.3033 20.8126 12.6954 20.8126 13.1042C20.8126 13.513 20.975 13.9051 21.2641 14.1942C21.5532 14.4833 21.9453 14.6457 22.3541 14.6456C22.763 14.6456 23.1551 14.4832 23.4441 14.1941L26.5275 11.1108C26.6706 10.9676 26.7842 10.7977 26.8617 10.6107C26.9392 10.4237 26.9791 10.2232 26.9791 10.0208C26.9791 9.81837 26.9392 9.61791 26.8617 9.43089C26.7842 9.24388 26.6706 9.07396 26.5275 8.93085Z"
          fill="#027794"
        />
      </svg>
    ),
    title: "Other Services",
    description:
      "In dealing with disruptive economic and legal challenge, our firm also provide various legal services.",
  },
];

const WhyUsSection: React.FC = () => {
  const controls = useAnimation();
  const [ref, inView] = useInView({
    triggerOnce: false,
    threshold: 0.1,
  });

  useEffect(() => {
    if (inView) {
      controls.start("visible");
    }
  }, [controls, inView]);

  const containerVariants = {
    hidden: { opacity: 0 },
    visible: { opacity: 1, transition: { staggerChildren: 0.2 } },
  };

  return (
    <motion.section
      ref={ref}
      className="bg-background dark:bg-gray-900 py-24 px-4 sm:px-6 lg:px-8"
      variants={containerVariants}
      initial="hidden"
      animate={controls}
    >
      <div className="max-w-7xl mx-auto">
        <div className="flex flex-col lg:flex-row items-start lg:items-start">
          <motion.div
            className="lg:w-2/3 mb-12 lg:mb-0 lg:pr-12"
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.5 } },
            }}
          >
            <h2 className="font-playfair font-bold text-4xl sm:text-5xl text-primary dark:text-gray-100 mb-6">
              Our Services
            </h2>
            <p className="font-poppins text-lg sm:text-xl text-text-light dark:text-gray-300 mb-8">
              We are here for UMKM in Nigeria to carry out the IT development
              process, which is sometimes complicated. Our expert team provides
              tailored solutions to meet your unique business needs.
            </p>
          </motion.div>
          <div className="lg:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-8">
            {serviceCards.map((card, index) => (
              <ServiceCard key={index} {...card} />
            ))}
          </div>
        </div>
      </div>
    </motion.section>
  );
};

const ServiceCard: React.FC<ServiceCard> = ({ icon, title, description }) => {
  return (
    <motion.div
      className="bg-surface dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300"
      variants={{
        hidden: { opacity: 0, y: 20 },
        visible: { opacity: 1, y: 0, transition: { duration: 0.5 } },
      }}
      whileHover={{ scale: 1.03 }}
      whileTap={{ scale: 0.98 }}
    >
      <div className="flex items-center mb-4">
        <div className="w-12 h-12 mr-4 flex-shrink-0">{icon}</div>
      </div>
      <h3 className="font-playfair font-bold text-xl text-accent dark:text-blue-300 mb-2">
        {title}
      </h3>
      <p className="font-poppins text-sm text-text-light dark:text-gray-300">
        {description}
      </p>
    </motion.div>
  );
};

export default WhyUsSection;
